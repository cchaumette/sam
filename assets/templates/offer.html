<md-content class="md-padding" style="background-image: url('/images/bg.jpg'); background-repeat: no-repeat; height: 100%; background-position-x: right;">
  <div layout="row"  layout-xs="column">
    <div flex="75" flex-sm="100" >

        <md-card>
        <md-toolbar class="md-primary">
        <md-card-header class="md-padding">
          <md-card-header-text>
            <span class="md-title-card">Plans that suits you best</span>
          </md-card-header-text>
        </md-card-header>
          </md-toolbar>
        <md-card-content layout-padding>
          <div layout="row" layout-padding>
            <div layout="row" flex="40" >
            <p>Select a starting date</p>
            <md-datepicker ng-model="policy.PolicyStartDate" md-placeholder="Enter date" md-min-date="inceptionDate.min" md-max-date="inceptionDate.max" ng-change="updatePolicyEndDate()"></md-datepicker>
</div>
            <div layout="row" >
              <p>Select an end date</p>
            <md-datepicker ng-model="policy.PolicyEndDate" md-placeholder="Enter date" ></md-datepicker>
</div>
          </div>
          <md-tabs md-dynamic-height md-border-bottom>
            <!-- ###### TODO CC : DYNAMIQUE ProductName-->
            <md-tab label="{{ProductName}}" ng-repeat="ProductName in ['COMPREHENSIVE','TPFT & TPO']">
              <md-content class="md-padding" >
                <div layout="row" layout-align="space-around center">
                  <div layout="column" flex="40"><h3>Benefits</h3>
                    <md-list-item ng-repeat="Benefit in benefitsList">
                      <p>{{ Benefit.label }}</p>
                    </md-list-item>
                  </div>
                  <div layout="column" flex="15" layout="center center" ng-repeat="Plan in product.Plans" ><h3>{{Plan.__Name}}</h3>
                    <md-list-item ng-repeat="Benefit in benefitsList" >
                      <!--<md-checkbox ng-model="Plan.__Benefits[Benefit.value]" disabled></md-checkbox>-->
                      <div ng-model="Plan.__Benefits[Benefit.value]" ><span ng-show="Plan.__Benefits[Benefit.value] == true;" layout="center center"><i class="material-icons">done</i></span><span ng-show="Plan.__Benefits[Benefit.value] == false;" layout="center center"><p>-</p></span></div>
                    </md-list-item>

                    <md-list-item>
                      <md-button  ng-class="Plan.IsSelected ? 'md-primary' : ''">
                      <h3 layout="start center">$ {{Plan.UsualPremium}}</h3>

                    <md-list-item>
                      <md-button class="md-raised" ng-class="Plan.IsSelected ? 'md-primary' : ''" ng-click="updateSelectedPlan(Plan)">Select</md-button>
                    </md-list-item>
                  </div>
                </div>
              </md-content>
            </md-tab>
          </md-tabs>
        </md-card-content>
          </md-card>
     
    </div>
    <div flex="25" flex-sm="100">
      <md-card>
        <md-toolbar class="md-primary">
        <md-card-header class="md-padding">
          <md-card-header-text>
            <span class="md-title-card">Your quote summary</span>
          </md-card-header-text>
        </md-card-header>
          </md-toolbar>
        <md-card-content>
          <h4>Your plan</h4>

          <div layout="row">
            <div flex="60">
              <p>{{plan.__Name}}</p>
            </div>
            <div flex="40">
              <p>$ {{plan.UsualPremium}}</p>
            </div>
          </div>
          <h4>Your discount</h4>

          <div layout="row" ng-repeat="discount in plan.Discounts">
            <div flex="60">
              <p>{{discount.__label}}</p>
            </div>
            <div flex="40">
              <p>$ {{discount.PayablePremium}}</p>
            </div>
          </div>
          <h4>Total</h4>

          <div layout="row">
            <div flex="60">
              <p>including GST</p>
            </div>
            <div flex="40">
              <h2>$ {{plan.FinalPremium}}</h2>
            </div>
          </div>
        </md-card-content>
        <div layout="column">
          <md-button> purchase this insurance</md-button>
          <md-button> Save and email my quote</md-button>
        </div>
      </md-card>
    </div>
  </div>

  <div layout="row" layout-align="space-between center">
    <md-button class="md-primary md-hue-1" href="#/home"> Back </md-button>
    <md-button class="md-raised md-accent" href="#/addon" layout="center end"> See my premium </md-button>
  </div>
</md-content>


