<md-content style="background-color:transparent;" flex="auto">
  <div>
    <div class="md" hide-xs hide-sm style=" position:fixed; width: auto; top:30px; z-index: 2;">
      <div class="breadcrumb flat">
        <a href="#/home" md-active="isActive[0].active" ng-class="isActive[0].active ? 'selection' : ''">About you</a>
        <a href="#/offer" md-active="isActive[1].active" ng-class="isActive[1].active ? 'selection' : ''">Your plan</a>
        <a href="#/addon" md-active="isActive[2].active" ng-class="isActive[2].active ? 'selection' : ''">Custom add-ons</a>
        <a href="#/policy" md-active="isActive[3].active" ng-class="isActive[3].active ? 'selection' : ''">Policy</a>
        <a href="#/payment" md-active="isActive[4].active" ng-class="isActive[4].active ? 'selection' : ''">Payment</a></div>
    </div>
  </div>
  <div layout="row" layout-xs="column" layout-margin  layout-align="space-around center">
    <div flex="33"flex flex-xs="100">
      <md-toolbar class="md-primary toolbar-border">
        <md-title layout-margin layout-padding>Add custom packs</md-title>
      </md-toolbar>
      <md-content class="step shadow" layout-padding>
        <div class="card-packs " ng-repeat="p in plan.Packs">

            <div layout="row" layout-align="space-between center">
              <span layout="end end" flex="70" ><b>
                <span class="{{packsLabels[p.RecordName].icon}} addon-title" style="font-size:24px;" ng-class="p.IsSelected == true ? 'addon-selected':''"></span>
                <span class="addon-title" ng-class="p.IsSelected == true ? 'addon-selected':''"> {{p.__label.Title}} $ XXX</span></b>
              </span>
              <md-checkbox ng-model="p.IsSelected" aria-label="pack selected" class="input-down"></md-checkbox>
            </div>

          <md-card-content>
            <p class="details">{{packsLabels[p.RecordName].label}}</p>
          </md-card-content>
          <md-card-actions layout="row" layout-align="end center">
            <md-button ng-click="showPacks($event, p)" class="input-up input-down">learn more</md-button>
          </md-card-actions>
        </div>
      </md-content>
    </div>
    <div flex="33" flex-xs="100">
      <md-toolbar class="md-primary toolbar-border">
        <md-title layout-margin layout-padding>Select add-ons</md-title>
      </md-toolbar>
      <md-content class="step shadow" style="padding-top:0px;padding-bottom:16px; " layout-padding>
        <div ng-repeat="a in plan.AddOns">
          <div layout="row" layout-align="space-between center" class="accordion">
            <span flex="80" ng-class="a.IsSelected == true ? 'addon-selected':''"><p><b>
              <span class="{{addonsLabels[a.RecordName].icon}} addon-title" ng-class="a.IsSelected == true ? 'addon-selected':''"
                    style="font-size:24px;"></span> <span ng-class="a.IsSelected == true ? 'addon-selected':''" class="addon-title">{{a.__label.Title}}</span></b>
            </p></span>
            <span flex="10" ng-class="a.IsSelected == true ? 'addon-selected':''" layout="center center"><b ng-class="a.IsSelected == true ? 'addon-selected':''" class="addon-title">$
              64</b></span>
            <md-button class="md-icon-button " ng-show="a.Show != true">
              <md-icon><i class="material-icons addon-title" ng-class="a.IsSelected == true ? 'addon-selected':''"
                          ng-click="a.Show = true">add</i></md-icon>
            </md-button>
            <md-button class="md-icon-button" ng-show="a.Show == true">
              <md-icon><i class="material-icons addon-title" ng-class="a.IsSelected == true ? 'addon-selected':''"
                          ng-click="a.Show = false">remove</i></md-icon>
            </md-button>
          </div>
          <div ng-show="a.Show == true">
            <div>
              <div layout="row" layout-align="space-between center" ng-show="!a.Parameters[0]">
                <div flex="80" layout-padding><p class="details">{{addonsLabels[a.RecordName].label}}</p></div>
                <div flex="20">
                  <md-checkbox aria-label="pa_driver" ng-model="a.IsSelected" class="checkbox-addon"></md-checkbox>
                </div>
              </div>
              <div layout="row" layout-align="space-between center" ng-show="a.Parameters[0]"
                   ng-repeat="opt in a.Parameters[0].Options">
                <div flex="80"><p class="details">{{opt.Name}}</p></div>
                <div flex="20">
                  <md-checkbox class="checkbox-addon" ng-checked="opt.isSelected"
                               ng-click="updateParamsAddon(a, a.Parameters[0].Options, $index)"></md-checkbox>
                </div>
              </div>
            </div>
          </div>
        </div>
      </md-content>
    </div>
    <div flex="33"  flex-xs="100" style="width:100%;">
      <md-toolbar class="md-primary toolbar-border">
        <md-title layout-margin layout-padding>Your quotation</md-title>
      </md-toolbar>
      <md-content class="step shadow" layout-padding>
        <div>
          <h4 class="category-summary">Your plan</h4>

          <div layout="row">
            <div flex="60">
              <span>{{plan.__Name}}</span>
            </div>
            <div flex="40">
              <span>$ {{plan.UsualPremium}}</span>
            </div>
          </div>
        </div>
        <div>
          <h4 class="category-summary">Your packs & add-ons</h4>

          <div layout="row">
            <div flex="60">
              <span>Excess</span>
            </div>
            <div flex="40">
              <span>$120</span>
            </div>
          </div>
        </div>
        <div class="discount">
          <h4 class="category-summary">Your discount</h4>

          <div layout="row" ng-repeat="discount in plan.Discounts">
            <div flex="60">
              <span>{{discount.__label}}</span>
            </div>
            <div flex="40">
              <span>$ {{discount.PayablePremium}}</span>
            </div>
          </div>
        </div>
        <div>
          <h4 class="category-summary">Total</h4>

          <div layout="row">
            <div flex="60">
              <span>including GST</span>
            </div>
            <div flex="40">
              <span><h4>$ {{plan.FinalPremium}}</h4></span>
            </div>
          </div>
        </div>
    </div>
  </div>
  <footer hide-xs>
    <md-button class=" md-raised md-accent action" href="#/policy" ng-click="breadcrumbStep4()"> Buy now</md-button>
    <md-button class=" md-raised  own_button action" ng-click="showAdvanced($event)"> Save & email my quote</md-button>
    <md-button aria-label="menu" class="md-fab md-mini md-primary action action-fab">
      <md-icon md-svg-src="images/webchat.svg"></md-icon>
      <md-tooltip class="white-tooltip" md-visible="demo.showTooltip" md-direction="left">
        Ask us a question
      </md-tooltip>
    </md-button>
    <md-button layout="row" layout="center center" class="md-primary action action-back" href="#/offer"><i
      class="material-icons">keyboard_arrow_left</i>Back
    </md-button>
  </footer>
  <footer hide-gt-xs>
    <div layout="row">
      <md-button layout="row" layout="center center" class="md-primary action action-back" href="#/offer"><i
        class="material-icons">keyboard_arrow_left</i>
      </md-button>

      <md-button aria-label="menu" class="md-fab md-mini md-primary  action-fab"ng-click="showAdvanced($event)">
        <md-icon md-svg-src="images/mail.svg"></md-icon>
      </md-button>
      <md-button aria-label="menu" class="md-fab md-mini md-primary  action-fab">
        <md-icon md-svg-src="images/webchat.svg"></md-icon>
      </md-button>
      <md-button class=" md-raised md-primary action" href="#/policy" ng-click="breadcrumbStep4()"> Buy now</md-button>

    </div>
  </footer>
</md-content>
